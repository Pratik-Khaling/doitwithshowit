/* CONFETTI CUE BY DOITWITHSHOWIT */
$(document).ready(function(){class t{constructor(t={}){this.timestamp=null,this.duration=t.duration||6e3,this.progress=0,this.delta=0,this.isLoop=!!t.isLoop,this.reset()}reset(){this.timestamp=null}start(t){this.timestamp=t}tick(t){if(this.timestamp){if(this.delta=t-this.timestamp,this.progress=Math.min(this.delta/this.duration,1),this.progress>=1&&this.isLoop&&this.start(t),this.progress>=1)return 1;return this.progress}return 0}}class s{constructor(s){this.$parent=s.element?$(s.element):$("body"),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.width=s.width||this.$parent.width(),this.height=s.height||this.$parent.height(),this.particleCount=s.particleCount||120,this.yRange=s.yRange||2*this.height,this.rotationRange=s.rotationRange||12,this.speedRange=s.speedRange||12,this.particles=[],this.colors=s.colors||["#FF5252","#FF9800","#FFEB3B","#4CAF50","#2196F3","#9C27B0"],this.particleWidth=10,this.particleHeight=18,this.progress=new t({duration:s.duration,isLoop:!1}),$(this.canvas).css({display:"block",position:"absolute",top:0,left:0,"pointer-events":"none","z-index":9999}),this.render=this.render.bind(this),this.createParticles(),this.$parent.append(this.canvas),this.progress.start(performance.now()),requestAnimationFrame(this.render)}createParticles(){for(let t=0;t<this.particleCount;t++){let s=document.createElement("canvas"),i=s.getContext("2d");s.width=this.particleWidth,s.height=this.particleHeight,s.position={x:Math.random()*this.width,y:-s.height-Math.random()*this.yRange},s.rotation=this.rotationRange/2-Math.random()*this.rotationRange,s.speed=this.speedRange/2+Math.random()*(this.speedRange/2),i.save();let e=Math.floor(3*Math.random()),a=this.colors[Math.floor(Math.random()*this.colors.length)];switch(i.fillStyle=a,e){case 0:i.fillRect(0,0,s.width,s.height);break;case 1:i.beginPath(),i.arc(s.width/2,s.height/2,Math.min(s.width,s.height)/2,0,2*Math.PI),i.fill();break;case 2:i.beginPath(),i.moveTo(s.width/2,0),i.lineTo(s.width,s.height),i.lineTo(0,s.height),i.closePath(),i.fill()}i.restore(),this.particles.push(s)}}render(t){let s=this.progress.tick(t);this.canvas.width=this.width,this.canvas.height=this.height;for(let t=0;t<this.particleCount;t++){let i=this.particles[t],e=50;this.ctx.save(),this.ctx.translate(i.position.x+i.rotation*e*s,i.position.y+s*(this.height+this.yRange)),this.ctx.rotate(i.rotation);let a=Math.abs(Math.sin(s*Math.PI*2*i.speed));this.ctx.drawImage(i,-this.particleWidth*a/2,-this.particleHeight/2,this.particleWidth*a,this.particleHeight),this.ctx.restore()}requestAnimationFrame(this.render)}}function i(){const t=4e3,i=180;new s({width:$(window).width(),height:$(window).height(),particleCount:i,duration:t}),setTimeout(function(){new s({width:$(window).width(),height:$(window).height(),particleCount:i,duration:t})},t/2),setTimeout(function(){new s({width:$(window).width(),height:$(window).height(),particleCount:i,duration:t})},t)}i()});
